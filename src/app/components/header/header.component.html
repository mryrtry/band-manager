<!-- components/header/header.component.html -->
<header class="header">
  <div class="header-main">
    <div class="header-info">
      <h1>Лабораторная работа №1 (Информационные системы)</h1>
      <h2>Рыцев Максим, 409483</h2>
    </div>

    @if (isAuthenticated$ | async) {
      @let currentUser = currentUser$ | async;
      <div class="header-auth">
        <div class="user-info">
          <span class="username">
            {{ currentUser?.username }}
          </span>
          @let userRoles = currentUser?.roles;
          @if (userRoles && userRoles.length > 0) {
            @let firstRole = userRoles[0];
            <span class="user-role">
              ({{ getRoleDisplayName(firstRole) }})
            </span>
          }
        </div>
        <button (click)="logout()" class="logout-btn" title="Выйти">
          <svg height="20px" viewBox="0 -960 960 960" width="20px" xmlns="http://www.w3.org/2000/svg">
            <path d="M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h280v80H200v560h280v80H200Zm440-160-55-58 102-102H360v-80h327L585-622l55-58 200 200-200 200Z"/>
          </svg>
        </button>
      </div>
    } @else {
      <a class="login-link" routerLink="/login">Войти</a>
    }
  </div>
</header>
